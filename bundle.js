(()=>{"use strict";const e=[{name:"Исаак Ньютон",src:"assets/bots/IsaacNewton.jpg"},{name:"Альберт Энштейн",src:"assets/bots/AlbertEinstein.jpg"},{name:"Аристотель",src:"assets/bots/Aristotle.jpg"},{name:"Чарльз Дарвин",src:"assets/bots/CharlesDarwin.jpg"},{name:"Христофор Колумб",src:"assets/bots/ChristopherColumbus.jpg"},{name:"Евклид",src:"assets/bots/Euclid.jpg"},{name:"Галилео Галилей",src:"assets/bots/GalileoGalilei.jpg"},{name:"Луи Пастер",src:"assets/bots/LouisPasteur.jpg"},{name:"Михаил Ломоносов",src:"assets/bots/MikhailLomonosov.jpg"},{name:"Стивен Хокинг",src:"assets/bots/StephenHawking.jpg"}],n=[{author:"Panda33",theme:"Природа"},{theme:"Природа",points:10,question:"Сколько материков на планете Земля?",answer:"6"},{theme:"Природа",points:20,question:"Какой вид медведей обитает в Арктике?",answer:"Белый медведь"},{theme:"Природа",points:30,question:"Сколько океанов на планете Земля?",answer:"5"},{theme:"Природа",points:40,question:"Какая самая высока гора на Земле?",answer:"Эверест"},{theme:"Природа",points:50,question:"Назовите вид самого большого современного животного",answer:"Синий кит"}],t={submit(){let e=document.querySelector(".game__main-area__answer-input");const t=document.querySelector(".game__main-area__answer-btn"),a=document.querySelector(".game__main-area");e.addEventListener("keydown",(function(r){if(13===r.keyCode){const r=document.createElement("div");r.className="game__main-area__answer",a.append(r);let c=document.createElement("p");c.className="game__main-area__answer__value",c.id="snackbar",c.innerText=e.value,r.append(c),c.className="show",setTimeout((function(){c.className=c.className.replace("show","")}),3e3),t.style.display="block",e.remove(),t.removeEventListener("click",s.showInput),m.checkAnswer(n,e.value)}}))}},a={renderQuestion(e){const n=document.querySelector(".game__main-area__main-screen");for(;n.firstChild;)n.firstChild.remove();const t=document.createElement("p");t.className="line__first",n.append(t);const a=document.createElement("div");a.className="line__center",n.append(a);const s=document.createElement("div");s.className="line__second",a.append(s);const r=document.createElement("div");r.className="line__container",a.appendChild(r);const c=document.createElement("p");c.className="line__letter-container",c.innerText=e,r.appendChild(c);const m=document.createElement("div");m.className="line__fourth",a.append(m);const o=document.createElement("p");o.className="line__third",n.append(o),c.style.display="none";for(var _=0;_<c.textContent.length;_++)!function(e){setTimeout((function(){var n=document.createTextNode(c.textContent[e]),t=document.createElement("span");t.appendChild(n),t.classList.add("line__letter"),r.appendChild(t)}),115*e)}(_)}},s={clearScreen(e){for(;e.firstChild;)e.firstChild.remove()},insertScreenContent(e,n){s.clearScreen(e);const t=document.createElement("p");"game__main-area__main-screen"===e.className?t.className="game__main-screen__text":t.className="game__sub-screen__display__text",t.innerText=n,e.append(t)},theme:`Тема: ${n[0].theme}`,author:`Автор темы: ${n[0].author}`,changeAnswer(){const e=document.querySelector(".game__main-area"),n=document.querySelector(".game__main-area__answer-btn"),t=document.createElement("input");t.className="game__main-area__answer-input",e.append(t),n.addEventListener("click",s.showInput)},showInput(){const e=document.querySelector(".game__main-area__answer-btn"),n=document.querySelector(".game__main-area__answer-input");e.style.display="none",n.style.display="block"}};let r,c;const m={indicateScreens(){r=document.querySelector(".game__main-area__main-screen"),c=document.querySelector(".game__sub-screen__display")},showScore(e,n){m.indicateScreens();const t=e[n].points;s.insertScreenContent(r,t),s.insertScreenContent(c,`${e[0].theme}: ${t}`)},showDescription(e,n){a.renderQuestion(e[n].question)},unblockInput(e){s.changeAnswer(),t.submit(e)},blockInput(){document.querySelector(".game__main-area__answer-btn").removeEventListener("click",s.showInput)},showQuestion(e){setTimeout((()=>{m.showScore(n,e)}),4e3),setTimeout((()=>{m.showDescription(n,e)}),8e3),setTimeout((()=>{m.unblockInput()}),12e3)},checkAnswer(e,n){const t=document.querySelector(".line__letter-container").innerText,a=document.querySelector(".game__player-list__score");let r,o;e.find((e=>{e.question===t&&(r=e.answer,o=e.points)}));const _=e.findIndex((e=>e.question===t));n===r?(s.insertScreenContent(c,"Правильный ответ"),a.innerText=+a.innerText+o):(s.insertScreenContent(c,`Вы ответили неправильно, правильный ответ: \n            ${r}`),a.innerText-=o),setTimeout((()=>{m.showQuestion(+_+1)}),4e3)},timeUp(){m.blockInput();const e=document.querySelector(".line__letter-container").innerText,t=document.querySelector(".game__player-list__score");let a,r;n.find((n=>{n.question===e&&(a=n.answer,r=n.points)}));const o=n.findIndex((n=>n.question===e));s.insertScreenContent(c,`Время вышло, правильный ответ: \n        ${a}`),t.innerText-=r,setTimeout((()=>{m.showQuestion(+o+1)}),4e3)}},o={greeting:"Для ответа на вопрос нажимайте красную кнопку, когда рамка вокруг вопроса начнет двигаться",rules:"Упрощенная",presenter:{img:"assets/bots/Aristotle.jpg",name:"Аристотель"},player:{img:"assets/img/player.png"},renderGamePage(){const e=document.querySelector(".game-wrapper");e.className="game";const n=document.querySelector("input");e.dataset.gameName=n.value;const t=document.querySelector(".game_settings__countValue");for(e.dataset.numberOfPlayers=t.innerText;e.firstChild;)e.firstChild.remove();const a=document.createElement("div");a.className="game__main-area",e.append(a);const s=document.createElement("div");s.className="game__main-area__main-screen",a.append(s);const r=document.createElement("div");r.className="game__main-area__sub-screen",a.append(r);const c=document.createElement("div");c.className="game__main-area__player-list",a.append(c);const _=document.createElement("div");_.className="game__main-area__answer-btn",a.append(_);const i=document.createElement("div");i.className="game__sub-area",e.append(i);const l=document.createElement("div");l.className="game__sub-area__header",i.append(l);const d=document.createElement("div");d.className="game__sub-area__log",i.append(d);const u=document.createElement("input");u.className="game__sub-area__input",i.append(u);const p=document.createElement("div");p.className="game__sub-area__footer",i.append(p),o.renderMainScreen(),o.renderSubScreen(),o.renderPlayerList(),o.renderHeader(),o.renderFooter(),m.showQuestion(1)},renderMainScreen(){const e=document.querySelector(".game__main-area__main-screen"),n=document.createElement("p");n.className="game__main-screen__text",n.innerText=o.greeting,e.append(n)},renderSubScreen(){const e=document.querySelector(".game__main-area__sub-screen"),n=document.createElement("div");n.className="game__sub-screen__wrapper",e.append(n);const t=document.createElement("div");t.className="game__sub-screen__presenter",n.append(t);const a=document.createElement("img");a.src=o.presenter.img,a.className="game__sub-screen__presenter-img",t.append(a);const s=document.createElement("p");s.className="game__sub-screen__presenter-name",s.innerText=o.presenter.name,t.append(s);const r=document.createElement("div");r.className="game__sub-screen__display",n.append(r);const c=document.createElement("p");c.className="game__sub-screen__display__text",c.innerText=`Правила игры: ${o.rules}`,r.append(c)},renderPlayerList(){const n=document.querySelector(".game").dataset.numberOfPlayers,t=document.querySelector(".game__main-area__player-list");for(let a=0;a<n;a++){const n=document.createElement("div");n.className="game__player-list__card",t.append(n);const s=document.createElement("img");s.className="game__player-list__avatar",s.src=e[a].src,n.append(s);const r=document.createElement("div");r.className="game__player-list__info",n.append(r);const c=document.createElement("div");c.className="game__player-list__name",c.innerText=e[a].name,r.append(c);const m=document.createElement("div");m.className="game__player-list__score",m.innerText=0,r.append(m)}const a=t.firstChild,s=a.firstChild,r=a.lastChild.firstChild;s.src=o.player.img,r.innerText=document.querySelector(".game").dataset.playerName},renderHeader(){const e=document.querySelector(".game__sub-area__header"),n=document.createElement("div");n.className="game__sub-area__header__btn-wrapper",e.append(n);const t=document.createElement("button");t.classList="game__sub-area__header__chat game__sub-area__header__btn header-btn__active",t.innerHTML="Чат",n.append(t);const a=document.createElement("button");a.classList="game__sub-area__header__participants game__sub-area__header__btn",a.innerHTML="Участники",n.append(a)},renderFooter(){const e=document.querySelector(".game__sub-area__footer"),n=document.createElement("div");n.className="game__sub-area__footer__btn-wrapper",e.append(n);const t=document.createElement("button");t.classList="game__sub-area__footer__pause game__sub-area__footer-btn",t.innerHTML="Пауза",n.append(t);const a=document.createElement("button");a.classList="game__sub-area__footer__leave game__sub-area__footer-btn",a.innerHTML="Выйти",n.append(a)}};let _,i;const l={firstPage(){const e=document.createElement("div");e.className="game-wrapper",document.body.prepend(e),e.innerHTML='\n            <div class="wrapper">\n                <div class="entrance">\n                    <h2 class="entrance__title">SIGame Online</h2>\n                    <p class="entrance__name">Ваше имя</p>\n                    <input class="entrance__input">\n                </div>\n                <div class="entrance__button">\n                    <button class="entrance__btn">Вход</button>\n                </div>\n            </div>\n            '},secondPage(){const e=document.querySelector(".game-wrapper"),n=document.querySelector(".entrance__input");""!==n.value?e.dataset.playerName=n.value:e.dataset.playerName="Player",e.innerHTML='\n        <div class="game_selection">\n            <h2 class="game_selection__title">Выберите действие</h2>\n            <ul>\n                <li class="playWithBots">Играть с ботами</li>\n            </ul>\n        </div>\n        ',_=document.querySelector(".playWithBots"),_.addEventListener("click",l.thirdPage)},renderSecondPage(){document.querySelector(".entrance__btn").addEventListener("click",l.secondPage)},thirdPage(){document.querySelector(".game-wrapper").innerHTML='\n        <div class="wrapper">\n        <div class="game_settings">\n            <h2 class="game_settings__title">Новая игра </h2>\n            <p>Название игры</p>\n            <input type="text">\n            <p>Игроки</p>\n            \n            <span class="game_settings__countTitle">Всего:\n            <span class="game_settings__countValue">5</span></span>\n            <input type="range" class="game_settings__range" id="myrange" min="2" max="10" step="1" >\n            </div>\n            <div class="game_settings__button">\n                <button class="game_settings__btn">Начать игру</button>\n            </div>\n        </div>\n        ';const e=document.getElementById("myrange");let n=document.querySelector(".game_settings__countValue");e.addEventListener("change",(function(){n.innerHTML=this.value})),i=document.querySelector(".game_settings__btn"),i.addEventListener("click",o.renderGamePage)}};l.firstPage(),l.renderSecondPage()})();